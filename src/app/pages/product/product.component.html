<div class="product">
  <header class="header">
    <svg routerLink="/" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
         fill="none" stroke="currentColor"
         stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
         class="lucide lucide-chevron-left-icon lucide-chevron-left">
      <path d="m15 18-6-6 6-6"/>
    </svg>
  </header>
  <div class="col">
    <app-carousel *ngIf="product" [images]="product.images"></app-carousel>
  </div>

  <div class="info">
    <div class="row">
      <div class="avatar">
        <img ngSrc="/assets/images/not-avatar.jpg" alt="" width="75" height="75">
      </div>
      <div class="user">
        {{ product.user.profile.last_name }} {{ product.user.profile.name }}
      </div>
      <div class="rating">
        <star-rating [value]=product.user.profile.rating [totalstars]=5 checkedcolor="orange" uncheckedcolor="black"
                     size="24px" [readonly]=false (rate)="onRate($event)"></star-rating>
      </div>
    </div>
    <div class="row between top">
      <div class="price">
        {{ product.price }}.00 ₽
      </div>
      <div class="favorite">
        <svg (click)="favorite(product.id)" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24"
             fill="currentColor"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="lucide lucide-heart-icon lucide-heart {{(product.is_favorite) ? 'favorite' : ''}}">
          <path
            d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"/>
        </svg>
      </div>
    </div>
    <div class="row">
      <div class="hr"></div>
    </div>
    <div class="row between">
      <div class="public-date">
        Опубликовано {{ this.date.getDate().toString() }} {{ this.monthes[this.date.getMonth()] }}
      </div>
      <div class="views">
        <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="lucide lucide-eye-icon lucide-eye">
          <path
            d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"/>
          <circle cx="12" cy="12" r="3"/>
        </svg>
        <span>{{ this.product.views }}</span>
      </div>

    </div>
    <div class="row">
      <div class="title">
        {{ this.product.title }}
      </div>
    </div>
  </div>
  <div *ngIf="product.category.id === 1" class="info non-margin">
    <div class="row center">
      <h2>Характеристики</h2>
    </div>
    <div class="row between">
      <div class="description">Производитель</div>
      <div class="description">{{ product.mark.title }}</div>
    </div>
    <div class="row between">
      <div class="description">Модель</div>
      <div class="description">{{ product.model.title }}</div>
    </div>
    <div class="row between">
      <div class="description">Объём памяти</div>
      <div class="description">{{ product.memory.title }}</div>
    </div>
    <div class="row between">
      <div class="description">Цвет</div>
      <div class="description">{{ product.color.title }}</div>
    </div>
  </div>
  <div class="info non-margin">
    <div class="row center">
      <h2>Описание</h2>
    </div>
    <div class="row">
      <div class="description">
        {{ this.product.description }}
      </div>
    </div>
  </div>
  <button class="button" type="button">Написать</button>
</div>

<app-popup *ngIf="isAnswered" [visible]="isPopupVisible" (dataEmitter)="popupClose($event)">
  <p>{{ this.favoriteMessage }}</p>
</app-popup>

