<div class="review">
  <header class="header">
    <svg routerLink="/" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
         fill="none" stroke="currentColor"
         stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
         class="lucide lucide-chevron-left-icon lucide-chevron-left">
      <path d="m15 18-6-6 6-6"/>
    </svg>
  </header>
  <div class="rating">
    <span>Оценка</span>
    <star-rating [value]=1 [totalstars]=5 checkedcolor="orange" uncheckedcolor="black"
                 size="24px" [readonly]=false (rate)="onRate($event)"></star-rating>
  </div>
  <form [formGroup]=this.form>
    <div class="form-row">
      <span>Напишите свой отзыв</span>
      <textarea class="{{((form.get('review')?.dirty || form.get('review')?.touched) && form.get('review')?.hasError('required')) ? 'in-err-area' : 'textarea'}}"
                rows="10"
                placeholder="Оставьте свой отзыв"
                name="review"
                formControlName="review"
                (input)="reviewInput($event)"
      >

      </textarea>
      <div class="subtext">символов {{ descriptionLength }} из 1000</div>
    </div>
    <div class="form-row">
      <button class="button" [disabled]="!form.valid" (click)="sendData()" type="button">Применить</button>
    </div>
  </form>
</div>

<app-popup *ngIf="isAnswered" [visible]="isPopupVisible" (dataEmitter)="popupClose($event)">
  <p>{{ this.favoriteMessage }}</p>
</app-popup>
